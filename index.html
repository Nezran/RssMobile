<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css"/>
    <link rel="stylesheet" href="template.css"/>
    <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
    <script src="https://cdn.rawgit.com/sekando/feednami-client/master/releases/1.0.2.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="mustache.min.js"></script>
    <script src="script.js"></script>
</head>
<body>
<!-- Start of first page -->
<div data-role="page" id="index" data-theme="b">

    <div data-role="header">
        <h1>Accueil</h1>
    </div>
    <!-- /header -->

    <!--<div data-template="index">-->
    <!--<ul>-->
    <!--{{#categories}}-->
    <!--<li>{{name}}</li>-->
    <!--{{/categories}}-->
    <!--</ul>-->
    <!--</div>-->
    <div id="feed"></div>


    <div data-role="content">

        <h2>Les catégories</h2>

        <ul class="cat" data-theme="b" data-role="listview" data-filter="true"
            data-filter-placeholder="Rechercher une catégorie" data-inset="true">
            {{#categories}}
            <li><a class="articles" href="#articles" data-url="{{url}}">{{name}}</a></li>
            {{/categories}}
        </ul>

    </div><!-- /content -->

    <div data-role="footer">
        <h4>Footer</h4>
    </div><!-- /footer -->
</div><!-- /page -->


<!-- Start of second page -->
<div data-role="page" id="articles" data-theme="b">

    <div data-role="header">
        <a href="#index" data-direction="reverse">Retour</a>
        <h1>Articles</h1>
    </div><!-- /header -->

    <div data-role="content">
        <h2>Les articles</h2>
        <!--<ul data-theme="b" data-role="listview" data-inset="true">-->
        <!--{{#data}}-->
        <!--<li>-->
        <!--<a href="#article" onclick="sessionStorage.Article='{{link}}'">-->
        <!--<img src="{{rss:image_big.#}}">-->
        <!--<h2>{{title}}</h2>-->
        <!--<p>{{summary}}</p>-->
        <!--</a>-->
        <!--</li>-->
        <!--{{/data}}-->
        <!--</ul>-->
        <div class="ui-grid-b ui-responsive">
            {{#data}}

                <div class="gridarticles">
                    <a class="article" href="#article" data-url="{{link}}">
                    <img src="{{rss:image_big.#}}">
                    <h2>{{title}}</h2>
                    <p>{{summary}}</p>
                    </a>
                    <a href="#" class="favoris ui-btn ui-icon-heart ui-btn-icon-left">Ajouter au favoris</a>
                </div>
            {{/data}}
        </div>

        <p><a href="#index">Back to foo</a></p>
    </div><!-- /content -->

    <div data-role="footer">
        <h4>Page Footer</h4>
    </div><!-- /footer -->
</div><!-- /page -->

<div data-role="page" id="article" data-theme="a">

    <div data-role="header">
        <a href="#index" data-direction="reverse">Retour</a>
        <h1>Articles</h1>
    </div><!-- /header -->

    <div data-role="content">
        <iframe id="iframe1" width="100%" height="500px">

        </iframe>
        <p>Article détail ?</p>

        <p><a href="#index">Back to index</a></p>
    </div><!-- /content -->

    <div data-role="footer">
        <h4>Page Footer</h4>
    </div><!-- /footer -->
</div><!-- /page -->


</body>
</html>


<script type="text/javascript">

    $(document).ready(function () {

//        var url = 'http://www.20min.ch/rss/rss.tmpl?type=channel&get=6&lang=ro';
//
//        feednami.load(url,function(result){
//            console.log(result);
//            if(result.error) {
//                console.log(result.error);
//            } else {
//                var entries = result.feed.entries;
//                for(var i = 0; i < entries.length; i++){
//                    var entry = entries[i];
//                    console.dir(entry);
//                }
//            }
//        });

    });
</script>
